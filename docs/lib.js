(function(c,l){typeof exports=="object"&&typeof module<"u"?module.exports=l():typeof define=="function"&&define.amd?define(l):(c=typeof globalThis<"u"?globalThis:c||self,c.jsnview=l())})(this,function(){"use strict";/*!
 * jsnview - v3.0.0
 * Copyright (c) 2022-2025 Haikel Fazzani
 * Licensed under MIT
 */const c={showType:!0,showFoldmarker:!0,showLen:!0,collapsed:!1,maxDepth:1/0};class l{data;config;root;constructor(e,t={}){this.data=e,this.config={...c,...t},this.root=this.createRootElement(),this.bindEvents(),this.render()}createRootElement(){const e=document.createElement("div");return e.className="jsv text-sm p-4 bg-white rounded-lg shadow-sm",e}bindEvents(){this.root.addEventListener("click",e=>{const t=e.target.closest(".jsv-toggle");if(t){const s=t.parentElement?.querySelector(".jsv-content");s&&(t.classList.toggle("-rotate-90"),s.classList.toggle("hidden"))}})}render(){this.root.innerHTML="";const e=this.createTree(this.data,0);this.root.appendChild(e)}createTree(e,t){if(e===null||typeof e!="object"){const r=document.createElement("span");return this.applyValueStyles(r,e),r}const s=Array.isArray(e),a=document.createElement("ul");a.className="jsv-content list-none pl-7 m-0 border-l border-dotted border-gray-300",this.config.collapsed&&t>0&&a.classList.add("hidden");const m=document.createDocumentFragment(),u=Object.entries(e);for(const[r,i]of u){const o=document.createElement("li");o.className="relative";const h=i!==null&&typeof i=="object";if(!s){const n=document.createElement("span");n.className="text-amber-800",n.textContent=`"${r}": `,o.appendChild(n)}if(this.config.showFoldmarker&&h){const n=document.createElement("span");n.className="jsv-toggle cursor-pointer select-none absolute -left-4 top-1 text-gray-500 text-xs transition-transform duration-100 ease-in-out",n.textContent="â–¼",this.config.collapsed&&t>0&&n.classList.add("-rotate-90"),o.appendChild(n)}if(h){const n=document.createElement("span");if(n.className="text-gray-600",n.textContent=s?"[":"{",o.appendChild(n),this.config.showLen){const p=document.createElement("span");p.className="text-gray-500 italic ml-2",p.textContent=`(${Object.keys(i).length} items)`,o.appendChild(p)}t<this.config.maxDepth&&o.appendChild(this.createTree(i,t+1));const d=document.createElement("span");d.className="text-gray-600",d.textContent=s?"]":"}",o.appendChild(d)}else{const n=document.createElement("span");this.applyValueStyles(n,i),o.appendChild(n)}m.appendChild(o)}return a.appendChild(m),a}applyValueStyles(e,t){const s=Object.prototype.toString.call(t).slice(8,-1).toLowerCase();switch(e.textContent=JSON.stringify(t),s){case"string":e.className="text-green-700";break;case"number":case"bigint":e.className="text-blue-700";break;case"boolean":e.className="text-rose-700";break;case"null":e.className="text-stone-700 italic",e.textContent="null";break}if(this.config.showType){const a=document.createElement("span");a.className="text-gray-500 italic ml-2",a.textContent=`(${s})`,e.appendChild(a)}}getElement(){return this.root}collapseAll(){this.root.querySelectorAll(".jsv-toggle").forEach(t=>{const s=t.parentElement?.querySelector(".jsv-content");s&&!s.classList.contains("hidden")&&(t.classList.add("-rotate-90"),s.classList.add("hidden"))})}expandAll(){this.root.querySelectorAll(".jsv-toggle").forEach(t=>{const s=t.parentElement?.querySelector(".jsv-content");s&&s.classList.contains("hidden")&&(t.classList.remove("-rotate-90"),s.classList.remove("hidden"))})}}return l});
//# sourceMappingURL=index.js.map
